<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Videos â€” cznmeta news</title>
  <style>
    body{font-family:Inter, system-ui, -apple-system, Arial, Helvetica, sans-serif; margin:24px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
    .card{border:1px solid #e6e6e6;border-radius:8px;overflow:hidden;text-decoration:none;color:inherit;display:block;background:#fff}
    img{width:100%;height:auto;display:block;background:#000}
    .meta{padding:10px}
    h3{margin:0 0 6px 0;font-size:16px;line-height:1.2}
    p{margin:0;color:#555;font-size:13px}
  </style>
</head>
<body>
  <header>
    <h1>All posted YouTube content from https://www.cznmeta.com/news</h1>
    <p>This page is automatically generated. If it's empty, run the site generator action or view /docs/video.html</p>
  </header>

  <div id="content" class="grid"></div>

  <script>
    // Try to load a pre-generated JSON file produced by the Action
    (async function(){
      const container = document.getElementById('content');
      try {
        const res = await fetch('/videos.json', {cache: 'no-store'});
        if (!res.ok) throw new Error('no pre-generated file');
        const videos = await res.json();
        if (!videos || !videos.length) {
          container.innerHTML = '<p>No videos found (empty videos.json)</p>';
          return;
        }
        container.innerHTML = videos.map(v=>{
          return `<a class="card" href="${v.url}" target="_blank" rel="noopener noreferrer">
            <img src="${v.thumbnail}" alt="${escapeHtml(v.title)}">
            <div class="meta"><h3>${escapeHtml(v.title)}</h3><p>by ${escapeHtml(v.author||'')}</p></div>
          </a>`;
        }).join('\\n');
      } catch (err) {
        // Fallback: link to generated docs page (if Action writes docs/video.html)
        container.innerHTML = '<p>Pre-generated file not available. Open <a href="/docs/video.html">/docs/video.html</a> (generated by the Action) or run the generator.</p>';
      }

      function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',\"'\":'&#39;'}[c])); }
    })();
  </script>
</body>
</html>
